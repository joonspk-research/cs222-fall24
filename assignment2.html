<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CS 222: AI Agents and Simulations</title>  

    <!-- Bootstrap, Font Awesome, Aminate, Owl Carausel, Normalize CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="static_dir/css/main.css">

    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #990615; }
        code { background-color: #f4f4f4; padding: 2px 4px; border-radius: 4px; }
        pre { background-color: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto; }
        table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="static_dir/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static_dir/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static_dir/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="static_dir/favicon_io/site.webmanifest">
</head>
<body>
    <h1 style="margin-bottom:0em; padding-top:2em"><a href="index.html"><strong style="font-weight:700">CS 222:</strong> AI Agents and Simulations</a></h1>
    <div class="header-row" style="margin-bottom:2em; padding-top:1.5em">
      <div class="course-info">
        <h5>STANFORD UNIVERSITY, FALL 2024</h5>
        <h5><strong>Location:</strong> M W 01:30p-02:50p; Lathrop Library, Rm 299</h5>
        <h5 style="margin-top:0.4em"><strong>Contact:</strong> cs222-ai-simulations@cs.stanford.edu</h5>
      </div>
    </div>

    <h2>Assignment 2: Multi-Agent Interaction</h2>

    <h3>Learning Goal</h3>
    <p>Previously, you developed a generative agent that can converse with you using memories you've instilled in it. However, the personas and memories we gave you were completely arbitrary. Persona definition, however, is a critical component of using generative agents for simulation because it determines how the agent will behave and respond to the world. In this assignment, you will develop multiple agent personas that will be used in a multi-agent simulation, allowing you to explore the contingent and emergent nature of simulated agents.</p>

    <h3>Part 0: Platform Setup</h3>
    <ol>
      <li>Clone the assignment repository: <a href="https://github.com/cqzou/cs222-assignment2" target="_blank">https://github.com/cqzou/cs222-assignment2</a></li>
      <li>Download the required Python packages: <code>pip install -r requirements.txt</code></li>
      <li>Create a <code>settings.py</code> file at the root level and insert your API key as <code>OPENAI_API_KEY = "[Your API Key]"</code></li>
      <li>Run the platform locally: <code>python main.py</code> and navigate to the local URL shown in the terminal.</li>
      <li>This assignment will ask you to take a lot of notes to inform your final writeup, so make sure you have a place to write things down!</li>
    </ol>

    <h3>Part 1: Getting started with personas</h3>
    <ol>
      <li>Create an agent persona with a unique name and background. You can describe yourself, a friend, a fictional character, or anything else that you want to be the agent. The persona description should be at least 100 words long.</li>
      <li>In this simulation, the agent will join a group with some other agents (from the teaching team?!) where each agent has a different persona, and the group needs to elect a leader. Each agent is instructed to advocate for themselves as the leader, and at the end each agent will cast a vote. You can take a look at the <code>main.py</code> file to understand this in more detail. </li>
      <li>Run the simulation and observe what happens. You can hover an agent's message to see their reflection on the conversation so far and their rhetorical strategy. </li>
      <li>At the end, a "Save Log" button will appear. Click this to download the interaction log for future reference. Then, you can click the "Reset" button to start a new run with the same agent.</li>
      <li>Note any similarities or differences between the simulation instances. Did the same agent win every time? Was there ambiguity in how your agent was defined that led to different outcomes? Was there anything that surprised you?</li>
    </ol>

    <h3>Part 2: Persona refinement</h3>
    <ol>
      <li>Based on your observations, iteratively refine your agent persona to improve its performance. Performance in this sense means how often it becomes elected leader, but you can secondarily consider how realistic the agent is compared to the behavior you're expecting. Note that you can actually add a LOT of text to the description of your persona, so feel free to be creative!</li>
      <li>Take note of what changes you're trying, and what works or doesn't work. If you don't like the outcome, try again!</li>
      <li>Once you have a persona you're happy with, repeat Part 1: run the simulation three times and note any similarities or differences between the runs. Make sure to save the logs.</li>
    </ol>

    <h3>Part 3: Multi-agent interaction</h3>
    <ol>
      <li>Come up with five new agents. Modify the <code>agents.py</code> file to include them. They should be different from the agents you used in Part 1 / Part 2.</li>
      <li>Preregister the outcome of the simulation: before you run it, think about the interactions you've seen so far from Part 1 and Part 2. What do you think will happen in this new simulation, and who do you predict will win?</li>
      <li>Run the simulation and observe the outcome. Was your prediction correct? If not, how did the simulation deviate from your expectations? Did you notice any surprises?</li>
      <li>Save the interaction log one last time.</li>
    </ol>

    <h3>Part 4: Analysis and Submission</h3> <p>For this assignment, you will submit a writeup of your analysis (pdf or docx), reflecting on different aspects of persona development, simulation outcomes, and your overall learning process. Since we also want you to provide the descriptions of your agent personas, you should list them in an appendix. Your analysis should be a minimum of 1000 words, excluding the appendix. Be sure to address each question thoughtfully and thoroughly. As we mentioned in class, feel free to make other changes in your exploration, such as the position the agents are competing for, the number of rounds, or the prompts.</p> <h4>Section 1: Simulation Consistency (3 points)</h4> <p>Describe the persona you created in Part 1, including their name and description, in the appendix.</p> <ul> <li>Reflect briefly on how you approached the creation of each persona. What traits or characteristics did you prioritize, and why?</li><li>You ran the simulation multiple times -- reflect on the similarities and differences between the runs, and include a detailed analysis of why you think those similarities and differences arose.</li> </ul> <h4>Section 2: Persona Refinement and Iteration (3 points)</h4> <p>Reflect on the process of refining your agent persona in Part 2.</p> <ul> <li>Describe the changes you made to your original persona and why you made them. Did you prioritize certain traits or behaviors to improve their performance as a leader?</li> <li>Discuss how the refined persona performed compared to the original one. What specific improvements did you notice, and why do you think these changes were effective?</li> <li>Were there any adjustments you tried that didn’t work as expected? If so, why do you think that happened?</li> <li>Overall, how controllable was your agent? Did you find any traits that make the agent consistently perform better or worse?</li></ul> <h4>Section 3: (Un)predictable Outcomes (3 points)</h4> <p>In Part 3, you created five new agents and ran a new multi-agent simulation. Reflect on this experience:</p> <ul> <li>Before running the simulation, we asked you to predict the outcome: which agent did you expect to win the election, and why?</li> <li>After running the simulation and comparing the result with your prediction, was your prediction correct? If not, what factors do you think led to the unexpected outcome?</li> </ul> <h4>Section 4: Simulation Dynamics (3 points)</h4> <p>Reflect on the overall dynamics of the multi-agent simulation process, focusing on what you learned about agent behavior and interaction:</p> <ul> <li>What were the key similarities and differences you observed across multiple simulation runs? Why do you think some behaviors were consistent while others changed?</li> <li>What surprised you about the agents’ behaviors? How did you interpret these unexpected behaviors?</li> <li>If any personas were based on real people or existing characters, how closely did the agent's behavior match your expectations?</li><li>What patterns have you noticed in your observations, and what theories do you have about agent behavior based on these observations? How did your mental model of agent behavior change over time?</li> </ul> <h4>Extra Credit: Agent Tournament (1 point)</h4> <p>For extra credit, you can also submit a persona to participate in a class-wide tournament. Your agent will be evaluated based on how well it does compared to other agents from your classmates.</p> <ul> <li>If you would like to participate, download one log from a simulation featuring your strongest fighter, and submit that alongside your writeup on Gradescope.</li></ul>

    <h3>Grading</h3>
<p>This assignment will be graded out of 12 points. The breakdown is as follows:</p>

<table>
    <thead>
        <tr>
            <th>Component</th>
            <th>Points</th>
            <th>Criteria</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Simulation Consistency</td>
            <td>3</td>
            <td>
                <ul>
                    <li>3 points: The analysis of the simulation's consistency is thorough and detailed, stating the outcomes that were observed and thoughtfully synthesizing those results into theories of agent behavior.</li>
                    <li>2 points: The analysis is present but lacks some depth or detail, or fewer simulation runs were analyzed than required.</li>
                    <li>1 point: The analysis is incomplete, too brief, or missing key details about the simulation outcomes.</li>
                    <li>0 points: The analysis is missing or extremely incomplete.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Persona Refinement and Iteration</td>
            <td>3</td>
            <td>
                <ul>
                    <li>3 points: The analysis of the refined persona is clearly documented, with a detailed explanation of what changes were made and why. Additionally, the changes are well-justified by theories derived from observation of the simulation outcomes.</li>
                    <li>2 points: The analysis of the refined persona is present but lacks some depth or detail, or fewer refinements were made than required. The changes described, but not justified by any observations or theories.</li>
                    <li>1 point: The analysis of the refined persona is incomplete, too brief, or missing key details about the changes made.</li>
                    <li>0 points: The analysis of the refined persona is missing or extremely incomplete.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>(Un)predictable Outcomes</td>
            <td>3</td>
            <td>
                <ul>
                    <li>3 points: A thoughtful and well-justified prediction of the simulation outcome was made, with a comparison to the actual result. The analysis includes substantial reflections on any discrepancies that occurred and introduces theories of agent behavior that explain why the outcome matched or did not match the prediction.</li>
                    <li>2 points: A prediction is provided and justified by past observations, but the analysis of the result is less detailed or incomplete.</li>
                    <li>1 point: A prediction was made haphazardly, and there is little to no reflection on the causal mechanisms that led to the outcome.</li>
                    <li>0 points: No prediction or reflection is provided.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Simulation Dynamics</td>
            <td>3</td>
            <td>
                <ul>
                    <li>3 points: Detailed reflection on agent behaviors and interactions, including clear reporting of all experimentation done, rationale for each change tested, and analysis of the capabilities and limitations of agents.</li>
                    <li>2 points: Some reflection is provided, but lacks synthesis of observations into theories about the capabilities and limitations of agents.</li>
                    <li>1 point: Minimal reflection is provided, missing key insights or observations.</li>
                    <li>0 points: No reflection or analysis of simulation dynamics.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Extra Credit: Agent Tournament</td>
            <td>1</td>
            <td>
                <ul>
                    <li>1 point: Your agent performed at the level of top 10% of the class.</li>
                    <li>0.5 point: Your agent performed at the level of top 25% of the class.</li>
                    <li>0 points: No submission, or agent performed below the top 25% of the class.</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>



</body>
</html>
